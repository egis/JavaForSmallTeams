
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Know How To Implement Hashcode And Equals Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-etoc/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pygments/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="200_do_not_reassign_parameters.html" />
    
    
    <link rel="prev" href="../specifics.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../process.html">
            
                <a href="../process.html">
            
                    
                    Process
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../process/100_build_fast_feedback_loops.html">
            
                <a href="../process/100_build_fast_feedback_loops.html">
            
                    
                    Build Fast Feedback Loops
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../process/200_instant_feedback.html">
            
                <a href="../process/200_instant_feedback.html">
            
                    
                    Instant Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../process/300_fast_feedback.html">
            
                <a href="../process/300_fast_feedback.html">
            
                    
                    Fast Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../process/400_slower_feedback.html">
            
                <a href="../process/400_slower_feedback.html">
            
                    
                    Slower Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../process/600_agree_the_language_you_use_for_tests.html">
            
                <a href="../process/600_agree_the_language_you_use_for_tests.html">
            
                    
                    Agree The Language You Use For Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../process/700_use_coverage_as_a_tool_not_a_target.html">
            
                <a href="../process/700_use_coverage_as_a_tool_not_a_target.html">
            
                    
                    Use Coverage As A Tool Not A Target
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../style.html">
            
                <a href="../style.html">
            
                    
                    Style
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../style/001_remember_kiss_and_yagni.html">
            
                <a href="../style/001_remember_kiss_and_yagni.html">
            
                    
                    Remember Kiss And Yagni
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../style/002_prefer_reversible_decisions.html">
            
                <a href="../style/002_prefer_reversible_decisions.html">
            
                    
                    Prefer Reversible Decisions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../style/010_use_a_consistent_code_layout.html">
            
                <a href="../style/010_use_a_consistent_code_layout.html">
            
                    
                    Use A Consistent Code Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../style/020_prefer_readable_code_to_comments.html">
            
                <a href="../style/020_prefer_readable_code_to_comments.html">
            
                    
                    Prefer Readable Code To Comments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../style/030_javadoc_judiciously.html">
            
                <a href="../style/030_javadoc_judiciously.html">
            
                    
                    Javadoc Judiciously
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../style/040_keep_your_code_dry.html">
            
                <a href="../style/040_keep_your_code_dry.html">
            
                    
                    Keep Your Code Dry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../style/041_prefer_immutable_objects.html">
            
                <a href="../style/041_prefer_immutable_objects.html">
            
                    
                    Prefer Immutable Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../style/051_optimise_for_readability_not_performance.html">
            
                <a href="../style/051_optimise_for_readability_not_performance.html">
            
                    
                    Optimise For Readability Not Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../style/052_prefer_composition.html">
            
                <a href="../style/052_prefer_composition.html">
            
                    
                    Prefer Composition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../style/100_consider_code_generators_carefully.html">
            
                <a href="../style/100_consider_code_generators_carefully.html">
            
                    
                    Consider Code Generators Carefully
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="../style/200_group_methods_for_easy_comprehension.html">
            
                <a href="../style/200_group_methods_for_easy_comprehension.html">
            
                    
                    Group Methods For Easy Comprehension
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="../style/300_keep_methods_small_and_simple.html">
            
                <a href="../style/300_keep_methods_small_and_simple.html">
            
                    
                    Keep Methods Small And Simple
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="../style/400_methods_should_do_one_thing.html">
            
                <a href="../style/400_methods_should_do_one_thing.html">
            
                    
                    Methods Should Do One Thing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="../style/600_avoid_null.html">
            
                <a href="../style/600_avoid_null.html">
            
                    
                    Avoid Null
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="../style/601_keep_it_solid.html">
            
                <a href="../style/601_keep_it_solid.html">
            
                    
                    Keep It Solid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="../style/700_use_final_liberally.html">
            
                <a href="../style/700_use_final_liberally.html">
            
                    
                    Use Final Liberally
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.17" data-path="../style/800_provide_no_more_than_one_worker_constructor.html">
            
                <a href="../style/800_provide_no_more_than_one_worker_constructor.html">
            
                    
                    Provide No More Than One Worker Constructor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.18" data-path="../style/900_avoid_checked_exceptions.html">
            
                <a href="../style/900_avoid_checked_exceptions.html">
            
                    
                    Avoid Checked Exceptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.19" data-path="../style/901_make_dependencies_explicit.html">
            
                <a href="../style/901_make_dependencies_explicit.html">
            
                    
                    Make Dependencies Explicit
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../specifics.html">
            
                <a href="../specifics.html">
            
                    
                    Specifics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.4.1" data-path="100_know_how_to_implement_hashcode_and_equals.html">
            
                <a href="100_know_how_to_implement_hashcode_and_equals.html">
            
                    
                    Know How To Implement Hashcode And Equals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="200_do_not_reassign_parameters.html">
            
                <a href="200_do_not_reassign_parameters.html">
            
                    
                    Do Not Reassign Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="300_limit_scope.html">
            
                <a href="300_limit_scope.html">
            
                    
                    Limit Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="400_prefer_for_each_loops_to_for_loops.html">
            
                <a href="400_prefer_for_each_loops_to_for_loops.html">
            
                    
                    Prefer For Each Loops To For Loops
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="500_prefer_maps_and_filters_to_imperative_loops.html">
            
                <a href="500_prefer_maps_and_filters_to_imperative_loops.html">
            
                    
                    Prefer Maps And Filters To Imperative Loops
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="600_avoid_apis_from_prehistory.html">
            
                <a href="600_avoid_apis_from_prehistory.html">
            
                    
                    Avoid Apis From Prehistory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="700_beware_casts_and_generics_warnings.html">
            
                <a href="700_beware_casts_and_generics_warnings.html">
            
                    
                    Beware Casts And Generics Warnings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="800_do_not_use_magic_numbers.html">
            
                <a href="800_do_not_use_magic_numbers.html">
            
                    
                    Do Not Use Magic Numbers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="800_do_not_use_the_assert_keyword.html">
            
                <a href="800_do_not_use_the_assert_keyword.html">
            
                    
                    Do Not Use The Assert Keyword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="900_avoid_floats_and_doubles.html">
            
                <a href="900_avoid_floats_and_doubles.html">
            
                    
                    Avoid Floats And Doubles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="1000_do_not_use_reflection.html">
            
                <a href="1000_do_not_use_reflection.html">
            
                    
                    Do Not Use Reflection
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../tests.html">
            
                <a href="../tests.html">
            
                    
                    Tests
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../tests/100_write_specifications_not_tests.html">
            
                <a href="../tests/100_write_specifications_not_tests.html">
            
                    
                    Write Specifications Not Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../tests/200_think_units_not_methods.html">
            
                <a href="../tests/200_think_units_not_methods.html">
            
                    
                    Think Units Not Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../tests/300_name_tests_with_a_specification_style.html">
            
                <a href="../tests/300_name_tests_with_a_specification_style.html">
            
                    
                    Name Tests With A Specification Style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../tests/400_pick_examples_carefully.html">
            
                <a href="../tests/400_pick_examples_carefully.html">
            
                    
                    Pick Examples Carefully
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../tests/500_make_tests_easy_to_understand.html">
            
                <a href="../tests/500_make_tests_easy_to_understand.html">
            
                    
                    Make Tests Easy To Understand
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../tests/600_understand_how_to_use_mocks_and_stubs.html">
            
                <a href="../tests/600_understand_how_to_use_mocks_and_stubs.html">
            
                    
                    Understand How To Use Mocks And Stubs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../tests/700_understand_your_options_for_code_reuse.html">
            
                <a href="../tests/700_understand_your_options_for_code_reuse.html">
            
                    
                    Understand Your Options For Code Reuse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../tests/750_write_repeatable_tests.html">
            
                <a href="../tests/750_write_repeatable_tests.html">
            
                    
                    Write Repeatable Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../tests/800_only_unit_test_code_it_makes_sense_to_unit_test.html">
            
                <a href="../tests/800_only_unit_test_code_it_makes_sense_to_unit_test.html">
            
                    
                    Only Unit Test Code It Makes Sense To Unit Test
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../tests/900_testing_FAQS.html">
            
                <a href="../tests/900_testing_FAQS.html">
            
                    
                    Testing FAQS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../badadvice.html">
            
                <a href="../badadvice.html">
            
                    
                    Bad advice
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../badadvice/010_getters_and_setters.md">
            
                <span>
            
                    
                    Always use Getters and Setters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../badadvice/100_single_exit_point_rules.html">
            
                <a href="../badadvice/100_single_exit_point_rules.html">
            
                    
                    Single Exit Point Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../badadvice/200_always_use_a_StringBuffer.html">
            
                <a href="../badadvice/200_always_use_a_StringBuffer.html">
            
                    
                    Always Use A StringBuffer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../badadvice/300_hungarian_notation.html">
            
                <a href="../badadvice/300_hungarian_notation.html">
            
                    
                    Hungarian Notation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Know How To Implement Hashcode And Equals</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="know-how-to-implement-hashcode-and-equals"><a name="know-how-to-implement-hashcode-and-equals" class="plugin-anchor" href="#know-how-to-implement-hashcode-and-equals"><i class="fa fa-link" aria-hidden="true"></i></a>Know How to Implement Hashcode and Equals</h2>
<h3 id="summary"><a name="summary" class="plugin-anchor" href="#summary"><i class="fa fa-link" aria-hidden="true"></i></a>Summary</h3>
<p>Implementing <code>hashCode</code> and <code>equals</code> is not straightforward. Do not implement them unless it is necessary to do so. If you do implement them, make sure you know what you are doing.</p>
<h3 id="details"><a name="details" class="plugin-anchor" href="#details"><i class="fa fa-link" aria-hidden="true"></i></a>Details</h3>
<p>It is well known that if you override equals then you must also override the <code>hashCode</code> method (see Effective Java item 9).</p>
<p>If logically-equal objects do not have the same <code>hashCode</code> they will behave in a surprising manner if placed in a hash based collection such as <code>HashMap</code>.</p>
<p>By &quot;surprising&quot;, we mean your program will behave incorrectly in a fashion that is very difficult to debug.</p>
<p>Unfortunately, implementing <code>equals</code> is surprisingly hard to do correctly. Effective Java item 8 spends about 12 pages discussing the topic.</p>
<p>The contract for equals is handily stated in the Javadoc of <code>java.lang.Object</code>. We will not repeat it here or repeat the discussion of what it means, that can be found in Effective Java and large swathes of the internet. Instead we will look at strategies for implementing it.</p>
<p>Whichever strategy you adopt, it is important that you first write tests for your implementation.</p>
<p>It is easy for an equals method to cause hard-to-diagnose bugs if the code changes (e.g. if fields are added or their type changes). Writing tests for equals methods used to be a painful and time-consuming procedure, but libraries now exist that make it trivial to specify the common cases (see Testing FAQs).</p>
<h3 id="dont"><a name="dont" class="plugin-anchor" href="#dont"><i class="fa fa-link" aria-hidden="true"></i></a>Don&apos;t</h3>
<p>This is the simplest strategy and the one you should adopt by default in the interests of keeping your codebase small.</p>
<p>Most classes do not need an equals method. Unless your class represents some sort of value it makes little sense to compare it with another so stick with the inherited implementation from Object.</p>
<p>An irritating gray area are classes where the production code never has a requirement to compare equality but the test code does. The dilemma here is whether to implement the methods purely for the benefit of the tests or to complicate the test code with custom equality checks.</p>
<p>There is, of course, no right answer here; we would suggest first trying the compare-it-in-the test approach before falling back to providing a custom equals method.</p>
<p>The custom equality checks can be cleanly shared by implementing a custom assertion using a library such as AssertJ or Hamcrest.</p>
<p>Effective Java tentatively suggests having your class throw an error if equals is unexpectedly called</p>
<pre><code class="lang-java"><span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="n">AssertionError</span><span class="o">();</span> <span class="c1">// Method is never called</span>
<span class="o">}</span>
</code></pre>
<p>This seems like a good idea but, unfortunately, it will confuse most static analysis tools. On balance, it probably creates more problems than it solves.</p>
<h3 id="auto-generate-with-an-ide"><a name="auto-generate-with-an-ide" class="plugin-anchor" href="#auto-generate-with-an-ide"><i class="fa fa-link" aria-hidden="true"></i></a>Auto-Generate With an IDE</h3>
<p>Most IDEs provide some method of auto-generating <code>hashCode</code> and <code>equals</code> methods. This is an easily-accessible approach, but the resulting methods are (depending on the IDE and its settings) often ugly and complex such as the ones generated by Eclipse shown below:</p>
<pre><code class="lang-java">  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="n">prime</span> <span class="o">=</span> <span class="mi">31</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">prime</span> <span class="o">*</span> <span class="n">result</span> <span class="o">+</span> <span class="o">((</span><span class="n">field1</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">field1</span><span class="o">.</span><span class="na">hashCode</span><span class="o">());</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">prime</span> <span class="o">*</span> <span class="n">result</span> <span class="o">+</span> <span class="o">((</span><span class="n">field2</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">field2</span><span class="o">.</span><span class="na">hashCode</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
  <span class="o">}</span>
</code></pre>
<pre><code class="lang-java">  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">obj</span><span class="o">)</span>
      <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">obj</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
   <span class="n">MyClass</span>  <span class="n">other</span> <span class="o">=</span> <span class="o">(</span><span class="n">MyClass</span><span class="o">)</span> <span class="n">obj</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">field1</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">other</span><span class="o">.</span><span class="na">field1</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(!</span><span class="n">field1</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">other</span><span class="o">.</span><span class="na">field1</span><span class="o">))</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">field2</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">other</span><span class="o">.</span><span class="na">field2</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(!</span><span class="n">field2</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">other</span><span class="o">.</span><span class="na">field2</span><span class="o">))</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
  <span class="o">}</span>
</code></pre>
<p>Unless your IDE can be configured to produce clean methods (as discussed below) we do not generally recommend this approach. It is easy for bugs to be introduced into this code by hand editing over time.</p>
<h3 id="hand-roll-clean-methods"><a name="hand-roll-clean-methods" class="plugin-anchor" href="#hand-roll-clean-methods"><i class="fa fa-link" aria-hidden="true"></i></a>Hand Roll Clean Methods</h3>
<p>Java 7 introduced the <code>java.util.Objects</code> class that makes implementing <code>hashCode</code> trivial. Guava provides the similar <code>com.google.common.base.Objects</code> class which may be used with earlier versions of Java.</p>
<pre><code class="lang-java">  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Objects</span><span class="o">.</span><span class="na">hash</span><span class="o">(</span><span class="n">field1</span><span class="o">,</span> <span class="n">field2</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre>
<p>The <code>Objects</code> class also simplifies implementing equals a little by pushing most null checks into the <code>Objects.equals</code> method.</p>
<pre><code class="lang-java">  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">obj</span><span class="o">)</span> <span class="c1">// &lt;- performance optimisation</span>
      <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">obj</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">obj</span><span class="o">.</span><span class="na">getClass</span><span class="o">())</span> <span class="c1">// &lt;- see note on inheritance</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="n">MyClass</span> <span class="n">other</span> <span class="o">=</span> <span class="o">(</span><span class="n">MyClass</span><span class="o">)</span> <span class="n">obj</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">field1</span><span class="o">,</span> <span class="n">other</span><span class="o">.</span><span class="na">field1</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
        <span class="n">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">field2</span><span class="o">,</span> <span class="n">other</span><span class="o">.</span><span class="na">field2</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre>
<p>The first <code>if</code> statement is not logically required and could be safely omitted; it may, however, provide performance benefits.</p>
<p>Usually, we would recommend that such micro-optimizations are not included unless they have been proven to provide a benefit. In the case of equals methods, we suggest that the optimization is left in place. It is likely to justify itself in at least some of your classes and there is value in having all methods follow an identical template.</p>
<p>The example above uses <code>getClass</code> to check that objects are of the same type. An alternative is to use <code>instanceof</code> as follows</p>
<pre><code class="lang-java">  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">obj</span><span class="o">)</span>
      <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">obj</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(!(</span><span class="n">obj</span> <span class="k">instanceof</span> <span class="n">MyClass</span><span class="o">))</span> <span class="c1">// &lt;- compare with instanceof</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="n">MyClass</span> <span class="n">other</span> <span class="o">=</span> <span class="o">(</span><span class="n">MyClass</span><span class="o">)</span> <span class="n">obj</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">field1</span><span class="o">,</span> <span class="n">other</span><span class="o">.</span><span class="na">field1</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
        <span class="n">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">field2</span><span class="o">,</span> <span class="n">other</span><span class="o">.</span><span class="na">field2</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre>
<p>This results in a behavioral difference - comparing instances of <code>MyClass</code> with its subclasses will return true with <code>instanceof</code> but false with <code>getClass</code>.</p>
<p>In Effective Java Josh Bloch argues in favor of <code>instanceof</code> as the <code>getClass</code> implementation violates a strict interpretation of the Liskov substitution principle.</p>
<p>However, if <code>instanceof</code> is used, it is easy for the symmetric property of the equals contract to be violated if a subclass overrides equals. i.e.:</p>
<pre><code class="lang-java"><span class="n">MyClass</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyClass</span><span class="o">();</span>
<span class="n">ExtendsMyClassWithCustomEqual</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ExtendsMyClassWithCustomEqual</span><span class="o">();</span>

<span class="n">a</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">b</span><span class="o">)</span> <span class="c1">// true</span>
<span class="n">b</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="c1">// false, a violation of symmetry</span>
</code></pre>
<p>If you find yourself in a situation where you need to consider the nuances of whether subclasses are equal to their parents then we strongly suggest you reconsider your design.</p>
<p>Having to think about maintaining the equals contract in a class hierarchy is painful and you shouldn&apos;t need to put yourself, or your team, through this for normal server-side coding tasks.</p>
<p>In the majority of cases, if you think it makes sense for your class to implement <code>hashCode</code> and <code>equals</code>, we strongly suggest you make your class final so hierarchies do not need to be considered.</p>
<p>If you believe you have a case where it makes sense for subclasses to be treated as equivalent to their parent, use <code>instanceof</code> but ensure that the parent equals method is made final.</p>
<p>Avoid relationships that are more complex than this.</p>
<h3 id="commons-equalsbuilder-and-hashcodebuilder"><a name="commons-equalsbuilder-and-hashcodebuilder" class="plugin-anchor" href="#commons-equalsbuilder-and-hashcodebuilder"><i class="fa fa-link" aria-hidden="true"></i></a>Commons EqualsBuilder and HashCodeBuilder</h3>
<p>The Apache commons hashcode and equals builders were once a popular way of generating these methods. We do not recommend their use in new code as most of what they achieved is now provided by <code>java.util.Objects</code> without bringing in a 3rd party library, or by the Guava equivalent.</p>
<p>These classes do provide the option of a single line reflection based implementation.</p>
<pre><code class="lang-java"><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">EqualsBuilder</span><span class="o">.</span><span class="na">reflectionEquals</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">obj</span><span class="o">);</span>
<span class="o">}</span>
</code></pre>
<pre><code class="lang-java"><span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">HashCodeBuilder</span><span class="o">.</span><span class="na">reflectionHashCode</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
</code></pre>
<p>The brevity of these implementations is attractive, but their performance is measurably poorer than others discussed so far. Good performance tests and regular profiling can help determine whether a poorly performing method genuinely leads to performance bottlenecks in your application. If you are confident that you would detect such adverse impacts then using these methods as initial placeholder implementations may be a reasonable approach. But in general we suggest you avoid them.</p>
<h3 id="code-generators"><a name="code-generators" class="plugin-anchor" href="#code-generators"><i class="fa fa-link" aria-hidden="true"></i></a>Code Generators</h3>
<p>A number of projects exist that can auto-generate value objects at build-time. Two of the better known options are :</p>
<ul>
<li><a href="https://github.com/google/auto/tree/master/value" target="_blank">Google auto</a></li>
<li><a href="https://projectlombok.org/" target="_blank">Project Lombok</a></li>
</ul>
<p>But many others are available.</p>
<h4 id="google-auto"><a name="google-auto" class="plugin-anchor" href="#google-auto"><i class="fa fa-link" aria-hidden="true"></i></a>Google Auto</h4>
<p>Google <em>Auto</em> will create a subclass with the <em>obvious</em> implementation of an abstract class annotated with <code>@AutoValue</code>. This implementation will include functioning <code>hashcode</code> and <code>equals</code> methods.</p>
<pre><code class="lang-java"><span class="kn">import</span> <span class="nn">com.google.auto.value.AutoValue</span><span class="o">;</span>


<span class="nd">@AutoValue</span>
<span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Animal</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="n">Animal</span> <span class="nf">create</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">numberOfLegs</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">AutoValue_Animal</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">numberOfLegs</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="n">Animal</span><span class="o">()</span> <span class="o">{}</span>

  <span class="kd">abstract</span> <span class="n">String</span> <span class="nf">name</span><span class="o">();</span>
  <span class="kd">abstract</span> <span class="kt">int</span> <span class="nf">numberOfLegs</span><span class="o">();</span>
<span class="o">}</span>
</code></pre>
<p>This is clearly far less effort than hand crafting a complete <code>Animal</code> class, but there are some downsides.</p>
<p>Some of the issues with code generators are discussed in &quot;Consider Code Generators Carefully&quot;, which categorized them into <em>friction</em> and <em>surprise</em>.</p>
<p>Here, Google Auto introduces some <em>friction</em> as the code shown above will not compile within an IDE until the generator has run to produce the <code>AutoValue_Animal</code> class.</p>
<p>There is also some <em>surprise</em>.</p>
<p>Because it is a value, Animal would normally be implemented as a final class - but we have been forced to make it abstract. The team behind <em>Auto</em> recommend you add a package-private constructor to prevent other child classes being created.</p>
<p>Unlike normal Java, the order in which accessors are declared is important because it is used by the generator to define the order of the constructor parameters. Re-ordering the accessors can, therefore, have the surprising effect of introducing a bug.</p>
<h4 id="lombok"><a name="lombok" class="plugin-anchor" href="#lombok"><i class="fa fa-link" aria-hidden="true"></i></a>Lombok</h4>
<p>Lombok can also (amongst other things) generate full implementations of value objects.</p>
<p>It takes a different approach to Google auto.</p>
<p>Given an annotated class such as:</p>
<pre><code class="lang-java"><span class="nd">@Value</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ValueExample</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="nd">@NonFinal</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
  <span class="kt">double</span> <span class="n">score</span><span class="o">;</span>
<span class="o">}</span>
</code></pre>
<p>It will alter the class at build-time to produce an implementation along the lines of:</p>
<pre><code class="lang-java"><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">ValueExample</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">score</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">ValueExample</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">,</span> <span class="kt">double</span> <span class="n">score</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">score</span> <span class="o">=</span> <span class="n">score</span><span class="o">;</span>
   <span class="o">}</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getScore</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">score</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
   <span class="c1">// valid implementation of equality based on all fields</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>
   <span class="c1">// valid hashcode implementation based on all fields</span>
  <span class="o">}</span>
</code></pre>
<p>While Google <em>Value</em> asks the programmer to provide a valid public API for a class, <em>Lombok</em> creates the public API based on a description of its internal state. The description is valid Java syntax but has a different meaning when interpreted by Lombok.</p>
<p><em>Lombok</em> causes some friction. It is not practical to use <em>Lombok</em> without an IDE that understands it - code using the autogenerated api will appear to be invalid. An IDE plugin must be installed.</p>
<p>While it (arguably) introduces less friction than auto once the IDE plugin is installed, the behavior of <em>Lombok</em> is much more surprising. It is easy to explain what <em>Auto</em> does - it generates a class at build-time that implements an interface you define. It is much harder to predict or explain what <em>Lombok</em> will do.</p>
<p>Although <em>Lombok</em> requires the programmer to write less code than solutions such as <em>Auto</em>, it deviates further from normal Java.</p>
<p>If you consider using a code generator for Value classes, we would recommend you consider approaches such as <em>Auto</em> before <em>Lombok</em>.</p>
<p>To its credit <em>Lombok</em> does provide an escape route (see &quot;Prefer reversible decisions&quot;) in the form of delombok which allows you to output the generated classes. These can then be used to replace the annotated originals.</p>
<p>Removing <em>Auto</em> is similarly straightforward - the generated classes can be checked into the source tree. The artificial abstract class/implementation split can then be removed via simple refactorings.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../specifics.html" class="navigation navigation-prev " aria-label="Previous page: Specifics">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="200_do_not_reassign_parameters.html" class="navigation navigation-next " aria-label="Next page: Do Not Reassign Parameters">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Know How To Implement Hashcode And Equals","level":"1.4.1","depth":2,"next":{"title":"Do Not Reassign Parameters","level":"1.4.2","depth":2,"path":"specifics/200_do_not_reassign_parameters.md","ref":"specifics/200_do_not_reassign_parameters.md","articles":[]},"previous":{"title":"Specifics","level":"1.4","depth":1,"path":"specifics.md","ref":"specifics.md","articles":[{"title":"Know How To Implement Hashcode And Equals","level":"1.4.1","depth":2,"path":"specifics/100_know_how_to_implement_hashcode_and_equals.md","ref":"specifics/100_know_how_to_implement_hashcode_and_equals.md","articles":[]},{"title":"Do Not Reassign Parameters","level":"1.4.2","depth":2,"path":"specifics/200_do_not_reassign_parameters.md","ref":"specifics/200_do_not_reassign_parameters.md","articles":[]},{"title":"Limit Scope","level":"1.4.3","depth":2,"path":"specifics/300_limit_scope.md","ref":"specifics/300_limit_scope.md","articles":[]},{"title":"Prefer For Each Loops To For Loops","level":"1.4.4","depth":2,"path":"specifics/400_prefer_for_each_loops_to_for_loops.md","ref":"specifics/400_prefer_for_each_loops_to_for_loops.md","articles":[]},{"title":"Prefer Maps And Filters To Imperative Loops","level":"1.4.5","depth":2,"path":"specifics/500_prefer_maps_and_filters_to_imperative_loops.md","ref":"specifics/500_prefer_maps_and_filters_to_imperative_loops.md","articles":[]},{"title":"Avoid Apis From Prehistory","level":"1.4.6","depth":2,"path":"specifics/600_avoid_apis_from_prehistory.md","ref":"specifics/600_avoid_apis_from_prehistory.md","articles":[]},{"title":"Beware Casts And Generics Warnings","level":"1.4.7","depth":2,"path":"specifics/700_beware_casts_and_generics_warnings.md","ref":"specifics/700_beware_casts_and_generics_warnings.md","articles":[]},{"title":"Do Not Use Magic Numbers","level":"1.4.8","depth":2,"path":"specifics/800_do_not_use_magic_numbers.md","ref":"specifics/800_do_not_use_magic_numbers.md","articles":[]},{"title":"Do Not Use The Assert Keyword","level":"1.4.9","depth":2,"path":"specifics/800_do_not_use_the_assert_keyword.md","ref":"specifics/800_do_not_use_the_assert_keyword.md","articles":[]},{"title":"Avoid Floats And Doubles","level":"1.4.10","depth":2,"path":"specifics/900_avoid_floats_and_doubles.md","ref":"specifics/900_avoid_floats_and_doubles.md","articles":[]},{"title":"Do Not Use Reflection","level":"1.4.11","depth":2,"path":"specifics/1000_do_not_use_reflection.md","ref":"specifics/1000_do_not_use_reflection.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["edit-link","etoc","anchors","expandable-chapters","pygments"],"pluginsConfig":{"etoc":{"mindepth":3,"maxdepth":4,"header":1,"h2lb":3,"notoc":false},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"pygments":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/egis/JavaForSmallTeams/blob/master/"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{},"expandable-chapters":{}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"specifics/100_know_how_to_implement_hashcode_and_equals.md","mtime":"2017-08-31T17:33:38.493Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-08-31T17:35:24.923Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-etoc/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

